{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\HAZEM\\\\Desktop\\\\template\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { useState } from 'react';\nexport default function AuthUser() {\n  let history = useHistory();\n\n  const getToken = () => {\n    const tokenString = sessionStorage.getItem('token');\n    const userToken = JSON.parse(tokenString);\n    return userToken;\n  };\n\n  const _useState = useState(getToken()),\n        _useState2 = _slicedToArray(_useState, 2),\n        token = _useState2[0],\n        setToken = _useState2[1];\n\n  const http = axios.create({\n    baseURL: \"http://localhost:8000/api\",\n    headers: {\n      \"Content-type\": \"application/json\",\n      \"Authorization\": `Bearer ${token}`\n    }\n  });\n\n  const logout = () => {\n    sessionStorage.clear();\n    history.push(\"/login\");\n  };\n\n  return {\n    logout\n  };\n}","map":{"version":3,"sources":["C:/Users/HAZEM/Desktop/template/src/app/Session/Logout.js"],"names":["useHistory","axios","useState","AuthUser","history","getToken","tokenString","sessionStorage","getItem","userToken","JSON","parse","token","setToken","http","create","baseURL","headers","logout","clear","push"],"mappings":";AAAA,SAASA,UAAT,QAA4B,kBAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,OAAzB;AAEA,eAAe,SAASC,QAAT,GAAmB;AAC9B,MAAIC,OAAO,GAAGJ,UAAU,EAAxB;;AACA,QAAMK,QAAQ,GAAG,MAAK;AAClB,UAAMC,WAAW,GAAGC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAApB;AACA,UAAMC,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWL,WAAX,CAAlB;AACA,WAAOG,SAAP;AACH,GAJD;;AAF8B,oBAOLP,QAAQ,CAACG,QAAQ,EAAT,CAPH;AAAA;AAAA,QAOvBO,KAPuB;AAAA,QAOjBC,QAPiB;;AAQ9B,QAAMC,IAAI,GAAGb,KAAK,CAACc,MAAN,CAAa;AACtBC,IAAAA,OAAO,EAAC,2BADc;AAEtBC,IAAAA,OAAO,EAAC;AACJ,sBAAiB,kBADb;AAEJ,uBAAmB,UAASL,KAAM;AAF9B;AAFc,GAAb,CAAb;;AASA,QAAMM,MAAM,GAAG,MAAM;AACjBX,IAAAA,cAAc,CAACY,KAAf;AACAf,IAAAA,OAAO,CAACgB,IAAR,CAAa,QAAb;AACH,GAHD;;AAMA,SAAO;AACHF,IAAAA;AADG,GAAP;AAGH","sourcesContent":["import { useHistory  } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { useState } from 'react';\r\n\r\nexport default function AuthUser(){\r\n    let history = useHistory();\r\n    const getToken = () =>{\r\n        const tokenString = sessionStorage.getItem('token');\r\n        const userToken = JSON.parse(tokenString);\r\n        return userToken;\r\n    }\r\n    const [token,setToken] = useState(getToken());\r\n    const http = axios.create({\r\n        baseURL:\"http://localhost:8000/api\",\r\n        headers:{\r\n            \"Content-type\" : \"application/json\",\r\n            \"Authorization\" : `Bearer ${token}`\r\n        }\r\n    });\r\n  \r\n\r\n    const logout = () => {\r\n        sessionStorage.clear();\r\n        history.push(\"/login\");\r\n    }\r\n\r\n    \r\n    return {\r\n        logout\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}